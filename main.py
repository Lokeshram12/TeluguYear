import streamlit as st

# https://en.wikipedia.org/wiki/Telugu_years#:~:text=The%20calendar%20includes%2060%20year,(usually%20March%20or%20April).
# Mapping of years to Telugu years
telugu_years = {
    (1867, 1927, 1987, 2047): "Prabhava ప్రభవ (యజ్ఞములు అధికంగా జరుగుతాయి)",
    (1868, 1928, 1988, 2048): "Vibhava విభవ (సుఖంగా జీవిస్తారు)",
    (1869, 1929, 1989, 2049): "Śukla శుక్ల (సమృద్దిగా పంటలు పండుతాయి)",
    (1870, 1930, 1990, 2050): "Pramōdyuta ప్రమోద్యూత (అందరికి ఆనందాన్ని ఇస్తుంది)",
    (1871, 1931, 1991, 2051): "Prajōtpatti ప్రజోత్పత్తి (అన్నింటిలోను అభివృద్ధి ఉంటుంది)",
    (1872, 1932, 1992, 2052): "Āṅgīrasa ఆంగీరస (భోగాలు కలుగుతాయి)",
    (1873, 1933, 1993, 2053): "Śrīmukha శ్రీముఖ (వనరులు సమృద్దిగా ఉంటాయి)",
    (1874, 1934, 1994, 2054): "Bhava భవ (ఉన్నత భావాలు కలిగి ఉంటారు)",
    (1875, 1935, 1995, 2055): "Yuva యువ (వర్షాలు కురిపించి పంటలు సమృద్ధిగా చేతికి అందుతాయి)",
    (1876, 1936, 1996, 2056): "Dhāta ధాత (అనారోగ్య బాధలు తగ్గుతాయి)",
    (1877, 1937, 1997, 2057): "Īśvara ఈశ్వర (క్షేమం, ఆరోగ్యాన్ని సూచిస్తుంది)",
    (1878, 1938, 1998, 2058): "Bahudhānya బహుధాన్య (దేశం సుభిక్షంగా, సంతోషంగా ఉండాలని సూచిస్తుంది)",
    (1879, 1939, 1999, 2059): "Pramādhi ప్రమాధి (వర్షాలు మధ్యస్థంగా ఉంటాయి‌)",
    (1880, 1940, 2000, 2060): "Vikrama విక్రమ (పంటలు బాగా పండి రైతన్నలు సంతోషిస్తారు, విజయాలు సాధిస్తారు)",
    (1881, 1941, 2001, 2061): "Vr̥ṣa వృష (వర్షాలు సమృద్ధిగా కురుస్తాయి)",
    (1882, 1942, 2002, 2062): "Citrabhānu చిత్రభాను (అద్భుతమైన ఫలితాలు పొందుతారు)",
    (1883, 1943, 2003, 2063): "Svabhānu స్వభాను (క్షేమము, ఆరోగ్యం)",
    (1884, 1944, 2004, 2064): "Tāraṇa తారణ (మేఘాలు సరైన సమయంలో వర్షించి సమృద్ధిగా వర్షాలు కురుస్తాయి)",
    (1885, 1945, 2005, 2065): "Pārthiva పార్థివ (ఐశ్వర్యం, సంపద పెరుగుతాయి)",
    (1886, 1946, 2006, 2066): "Vyaya వ్యయ (అతివృష్టి, అనవసర ఖర్చులు)",
    (1887, 1947, 2007, 2067): "Sarvajittu సర్వజిత్తు (సంతోషకరంగా చాలా వర్షాలు కురుస్తాయి)",
    (1888, 1948, 2008, 2068): "Sarvadhāri సర్వధారి (సుభిక్షంగా ఉంటారు)",
    (1889, 1949, 2009, 2069): "Virōdhi విరోధి (వర్షాలు లేకుండా ఇబ్బందులు పడే సమయం)",
    (1890, 1950, 2010, 2070): "Vikr̥ti వికృతి (ఈ సమయం భయంకరంగా ఉంటుంది)",
    (1891, 1951, 2011, 2071): "Khara ఖర (పరిస్థితులు సాధారణంగా ఉంటాయి)",
    (1892, 1952, 2012, 2072): "Nandana ‌నందన (ప్రజలకు ఆనందం కలుగుతుంది)",
    (1893, 1953, 2013, 2073): "Vijaya విజయ (శత్రువులను జయిస్తారు)",
    (1894, 1954, 2014, 2074): "Jaya జయ (లాభాలు, విజయం సాధిస్తారు)",
    (1895, 1955, 2015, 2075): "Manmadha మన్మధ (జ్వరాది బాధలు తొలగిపోతాయి)",
    (1896, 1956, 2016, 2076): "Durmukhi దుర్ముఖి (ఇబ్బందులు ఉన్న క్షేమంగానే ఉంటారు)",
    (1897, 1957, 2017, 2077): "Hēvaḷambi హేవళంబి (ప్రజలు సంతోషంగా ఉంటారు)",
    (1898, 1958, 2018, 2078): "Viḷambi విళంబి (సుభిక్షంగా ఉంటారు)",
    (1899, 1959, 2019, 2079): "Vikāri వికారి (అనారోగ్యాన్ని కలిగిస్తుంది, శత్రువులకు చాలా కోపం తీసుకొస్తుంది)",
    (1900, 1960, 2020, 2080): "Śārvari శార్వరి (చీకటి)",
    (1901, 1961, 2021, 2081): "Plava ప్లవ (ఒడ్డుకు చేర్చునది)",
    (1902, 1962, 2022, 2082): "Śubhakr̥ttu శుభకృతు (శుభములు కలిగించేది)",
    (1903, 1963, 2023, 2083): "Śōbhakr̥ttu శోభకృతు (లాభములు కలిగించేది)",
    (1904, 1964, 2024, 2084): "Krōdhi క్రోధి (కోపం కలిగించేది)",
    (1905, 1965, 2025, 2085): "Viśvāvasu విశ్వావసు (ధనం సమృద్ధిగా ఉంటుంది)",
    (1906, 1966, 2026, 2086): "Parābhava పరాభవ (ప్రజల పరాభవాలకు గురవుతారు)",
    (1907, 1967, 2027, 2087): "Plavaṅga ప్లవంగ (నీరు సమృద్ధిగా ఉంటుంది)",
    (1908, 1968, 2028, 2088): "Kīlaka కీలక (పంటలు బాగా పండుతాయి)",
    (1909, 1969, 2029, 2089): "Saumya సౌమ్య (శుభ ఫలితాలు అధికం)",
    (1910, 1970, 2030, 2090): "Sādhāraṇa సాధారణ (సాధారణ పరిస్థితులు ఉంటాయి)",
    (1911, 1971, 2031, 2091): "Virōdhikr̥ttu విరోధికృతు (ప్రజల్లో విరోధం ఏర్పడుతుంది)",
    (1912, 1972, 2032, 2092): "Paridhāvi పరిధావి (ప్రజల్లో భయం ఎక్కువగా ఉంటుంది)",
    (1913, 1973, 2033, 2093): "Pramādīca ప్రమాదీచ (ప్రమాదాలు ఎక్కువ)",
    (1914, 1974, 2034, 2094): "Ānanda ఆనంద (ఆనందంగా ఉంటారు)",
    (1915, 1975, 2035, 2095): "Rākṣasa రాక్షస (కఠిన హృదయం కలిగి ఉంటారు)",
    (1916, 1976, 2036, 2096): "Nala నల (పంటలు బాగా పండుతాయి)",
    (1917, 1977, 2037, 2097): "Piṅgaḷa పింగళ (సామాన్య ఫలితాలు కలుగుతాయి)",
    (1918, 1978, 2038, 2098): "Kāḷayukti కాళయుక్తి (కాలానికి అనుకూలమైన ఫలితాలు లభిస్తాయి)",
    (1919, 1979, 2039, 2099): "Siddhārthi సిద్ధార్ది (కార్య సిద్ధి)",
    (1920, 1980, 2040, 2100): "Raudri రౌద్రి (ప్రజలకు చిన్నపాటి బాధలు ఉంటాయి)",
    (1921, 1981, 2041, 2101): "Durmati దుర్మతి (వర్షాలు సామాన్యంగా ఉంటాయి)",
    (1922, 1982, 2042, 2102): "Dundubhi దుందుభి (క్షేమం, ధ్యానం)",
    (1923, 1983, 2043, 2103): "Rudhirōdgāri రుధిరోద్గారి (ప్రమాదాలు ఎక్కువ)",
    (1924, 1984, 2044, 2104): "Raktākṣi రక్తాక్షి (అశుభాలు కలుగుతాయి)",
    (1925, 1985, 2045, 2105): "Krōdhana క్రోధన (విజయాలు సిద్ధిస్తాయి)",
    (1926, 1986, 2046, 2106): "Akṣaya అక్షయ (తరగని సంపద)"
}

# Title
st.title("Telugu Year Finder")

# Function to reset the input field
def clear_input():
    st.session_state["year_input"] = ""

# Input field
year = st.text_input(
    "Enter a year (e.g., 2001):",
    key="year_input",
    placeholder="Enter a valid year here",
)

# Layout for buttons
col1, col2 = st.columns(2)

with col1:
    # Search button
    search_clicked = st.button("Search")

with col2:
    # Clear button linked to the clear_input function
    st.button("Clear", on_click=clear_input)

# Process input and display the Telugu year when "Search" is clicked
if search_clicked and year:
    try:
        year = int(year)  # Convert input to integer
        # Find the Telugu year
        telugu_year = None
        for years, name in telugu_years.items():
            if year in years:
                telugu_year = name
                break
        if telugu_year:
            st.success(f"Telugu Year for {year} is: {telugu_year}")
        else:
            st.error("Year should be between 1867 and 2106 in the Telugu calendar mapping.")
    except ValueError:
        st.error("Please enter a valid year (numbers only).")

# Footer with credits
st.markdown("---")
st.markdown(
    """
    **Created by [Lokesh](https://www.linkedin.com/in/lokeshramd12/)**  
    """
)